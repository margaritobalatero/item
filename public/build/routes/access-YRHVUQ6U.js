import{a as U}from"/build/_shared/chunk-OR2KCLCS.js";import{a as l,b as o,c as w,g as m,k as u,m as p,q as n}from"/build/_shared/chunk-FHXGL6JU.js";var g=l((x,h)=>{h.exports={}});var y=l((C,f)=>{f.exports={}});var b=o(U(),1);var a=o(n(),1);function d({children:s,onClose:r}){return(0,a.jsx)("div",{className:"modal-backdrop",onClick:r,children:(0,a.jsxs)("div",{className:"modal",onClick:c=>c.stopPropagation(),children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,a.jsx)("button",{className:"button",onClick:r,children:"Close"})}),(0,a.jsx)("div",{style:{marginTop:10},children:s})]})})}var v=o(w(),1),t=o(n(),1),{getSession:q}=g(),{getItems:k,createItem:F}=y();function N(){let s=u(),[r,c]=(0,v.useState)(null),e=p();return(0,t.jsxs)("div",{children:[(0,t.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("h2",{children:"Items"}),(0,t.jsx)(m,{method:"post",action:"/logout",children:(0,t.jsx)("button",{className:"button",type:"submit",children:"Logout"})})]}),(0,t.jsxs)("section",{style:{marginTop:20},children:[(0,t.jsx)("h3",{children:"Create new item"}),(0,t.jsxs)(m,{method:"post",children:[(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"item",placeholder:"Item",required:!0})}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"itemDescription",placeholder:"Description"})}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"quantity",placeholder:"Quantity",type:"number"})}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"unit",placeholder:"Unit"})}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"unitPrice",placeholder:"Unit price",type:"number",step:"0.01"})}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsx)("input",{name:"imageUrl",placeholder:"Image URL"})}),(0,t.jsx)("button",{className:"button",type:"submit",children:"Create"})]})]}),(0,t.jsxs)("section",{style:{marginTop:30},children:[(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Item"}),(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Qty"}),(0,t.jsx)("th",{children:"Unit"}),(0,t.jsx)("th",{children:"Unit price"}),(0,t.jsx)("th",{children:"Image"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:s.items.map(i=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:i.item}),(0,t.jsx)("td",{children:i.itemDescription}),(0,t.jsx)("td",{children:i.quantity}),(0,t.jsx)("td",{children:i.unit}),(0,t.jsx)("td",{children:i.unitPrice}),(0,t.jsx)("td",{children:i.imageUrl?(0,t.jsx)("img",{src:i.imageUrl,style:{maxWidth:80,maxHeight:50},alt:"thumb"}):"-"}),(0,t.jsxs)("td",{children:[(0,t.jsx)("a",{className:"button",href:`/api/items/${i._id}`,onClick:I=>{I.preventDefault(),e.load(`/api/items/${i._id}`)},children:"Detail"})," ",(0,t.jsx)("a",{className:"button",href:`/access/edit/${i._id}`,children:"Edit"})," ",(0,t.jsx)(e.Form,{method:"delete",action:`/api/items/${i._id}`,style:{display:"inline"},children:(0,t.jsx)("button",{className:"button button-danger",type:"submit",children:"Delete"})})]})]},i._id))})]}),e.data&&e.data.item&&(0,t.jsxs)(d,{onClose:()=>e.load("/access"),children:[(0,t.jsx)("h3",{children:e.data.item.item}),(0,t.jsx)("p",{children:e.data.item.itemDescription}),(0,t.jsxs)("p",{children:["Quantity: ",e.data.item.quantity," ",e.data.item.unit]}),(0,t.jsxs)("p",{children:["Unit Price: ",e.data.item.unitPrice]}),e.data.item.imageUrl&&(0,t.jsx)("img",{className:"detail-image",src:e.data.item.imageUrl,alt:"detail"})]})]})]})}export{N as default};
