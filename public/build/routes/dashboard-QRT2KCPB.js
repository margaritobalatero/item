import{a as q}from"/build/_shared/chunk-VMRVAVRA.js";import{a as I}from"/build/_shared/chunk-OR2KCLCS.js";import{a as U,b as s,c as P,g as l,k as u,q as p}from"/build/_shared/chunk-FHXGL6JU.js";var b=U((F,h)=>{h.exports={}});var v=s(I(),1),$=s(q(),1),m=s(b(),1),o=s(P(),1),t=s(p(),1);function g(r){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r||0)}function y(){let{items:r}=u(),[a,c]=(0,o.useState)(null),[i,n]=(0,o.useState)({item:"",itemDescription:"",quantity:"",unit:"",unitPrice:"",imageUrl:"",id:""}),[d,f]=(0,o.useState)(!0);(0,o.useEffect)(()=>{n(a?{item:a.item,itemDescription:a.itemDescription,quantity:a.quantity,unit:a.unit,unitPrice:a.unitPrice,imageUrl:a.imageUrl,id:a._id}:{item:"",itemDescription:"",quantity:"",unit:"",unitPrice:"",imageUrl:"",id:""})},[a]);let N=e=>{let x=window.screenX+(window.innerWidth-500)/2,D=window.screenY+(window.innerHeight-600)/2;window.open("","_blank",`width=500,height=600,left=${x},top=${D},scrollbars=yes`).document.write(`
    <html>
      <head>
        <title>${e.item} - Detail</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
          .close-btn-container {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
          }
        </style>
      </head>
      <body class="p-4">
        <h3 class="text-primary mb-3">${e.item}</h3>
        <p><strong>Description:</strong> ${e.itemDescription}</p>
        <p><strong>Quantity:</strong> ${e.quantity}</p>
        <p><strong>Unit:</strong> ${e.unit}</p>
        <p><strong>Unit Price:</strong> ${g(e.unitPrice)}</p>
        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.item}" class="img-fluid rounded mt-2" style="max-width:100%"/>`:""}
        <div class="close-btn-container">
          <button onclick="window.close()" class="btn btn-secondary">Close</button>
        </div>
      </body>
    </html>
  `)},w=r.length;return(0,t.jsxs)("div",{children:[(0,t.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css",rel:"stylesheet"}),(0,t.jsxs)("div",{className:"d-flex min-vh-100",children:[(0,t.jsxs)("nav",{className:`bg-primary text-white p-3 flex-shrink-0 ${d?"d-block":"d-none"}`,style:{width:"220px"},children:[(0,t.jsx)("h2",{className:"text-light",children:"My Dashboard"}),(0,t.jsxs)("ul",{className:"nav flex-column mt-4",children:[(0,t.jsx)("li",{className:"nav-item mb-2",children:(0,t.jsx)("a",{className:"nav-link text-white",href:"#summary",children:"Summary"})}),(0,t.jsx)("li",{className:"nav-item mb-2",children:(0,t.jsx)("a",{className:"nav-link text-white",href:"#crud",children:"Manage Items"})}),(0,t.jsx)("li",{className:"nav-item mt-4",children:(0,t.jsx)(l,{method:"post",children:(0,t.jsx)("button",{type:"submit",name:"_action",value:"logout",className:"btn btn-danger w-100",children:"Logout"})})})]})]}),(0,t.jsxs)("div",{className:"flex-grow-1 p-4",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>f(!d),children:d?"Hide Sidebar":"Show Sidebar"}),(0,t.jsx)("span",{className:"h3 text-primary",children:"Dashboard CRUD"})]}),(0,t.jsx)("div",{id:"summary",className:"row mb-4",children:(0,t.jsx)("div",{className:"col-md-6 mb-3",children:(0,t.jsx)("div",{className:"card text-white bg-success shadow-sm",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:"Total Items"}),(0,t.jsx)("p",{className:"card-text fs-3",children:w})]})})})}),(0,t.jsx)("div",{id:"crud",className:"card mb-4 shadow-sm",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)(l,{method:"post",className:"row g-2",children:[(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("input",{name:"item",placeholder:"Item",required:!0,className:"form-control",value:i.item,onChange:e=>n({...i,item:e.target.value})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("input",{name:"itemDescription",placeholder:"Description",className:"form-control",value:i.itemDescription,onChange:e=>n({...i,itemDescription:e.target.value})})}),(0,t.jsx)("div",{className:"col-md-1",children:(0,t.jsx)("input",{name:"quantity",type:"number",placeholder:"Qty",required:!0,className:"form-control",value:i.quantity,onChange:e=>n({...i,quantity:e.target.value})})}),(0,t.jsx)("div",{className:"col-md-1",children:(0,t.jsx)("input",{name:"unit",placeholder:"Unit",className:"form-control",value:i.unit,onChange:e=>n({...i,unit:e.target.value})})}),(0,t.jsx)("div",{className:"col-md-2",children:(0,t.jsx)("input",{name:"unitPrice",type:"number",placeholder:"Unit Price (\u20B1)",required:!0,className:"form-control",value:i.unitPrice,onChange:e=>n({...i,unitPrice:e.target.value})})}),(0,t.jsx)("div",{className:"col-md-2",children:(0,t.jsx)("input",{name:"imageUrl",placeholder:"Image URL",className:"form-control",value:i.imageUrl,onChange:e=>n({...i,imageUrl:e.target.value})})}),a&&(0,t.jsx)("input",{type:"hidden",name:"id",value:i.id}),(0,t.jsxs)("div",{className:"col-12 d-flex gap-2 mt-2",children:[(0,t.jsx)("button",{type:"submit",name:"_action",value:a?"update":"create",className:"btn btn-success",children:a?"Update Item":"Add Item"}),a&&(0,t.jsx)("button",{type:"button",onClick:()=>c(null),className:"btn btn-secondary",children:"Cancel Edit"})]})]})})}),(0,t.jsx)("div",{className:"table-responsive shadow-sm rounded",children:(0,t.jsxs)("table",{className:"table table-striped table-hover align-middle",children:[(0,t.jsx)("thead",{className:"table-primary",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Item"}),(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Qty"}),(0,t.jsx)("th",{children:"Unit"}),(0,t.jsx)("th",{children:"Unit Price"}),(0,t.jsx)("th",{children:"Image"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.item}),(0,t.jsx)("td",{children:e.itemDescription}),(0,t.jsx)("td",{children:e.quantity}),(0,t.jsx)("td",{children:e.unit}),(0,t.jsx)("td",{children:g(e.unitPrice)}),(0,t.jsx)("td",{children:e.imageUrl&&(0,t.jsx)("img",{src:e.imageUrl,alt:e.item,className:"img-thumbnail",style:{width:"70px",height:"70px",objectFit:"cover"}})}),(0,t.jsxs)("td",{className:"d-flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>c(e),className:"btn btn-warning btn-sm",children:"Edit"}),(0,t.jsxs)(l,{method:"post",children:[(0,t.jsx)("input",{type:"hidden",name:"id",value:e._id}),(0,t.jsx)("button",{type:"submit",name:"_action",value:"delete",className:"btn btn-danger btn-sm",children:"Delete"})]}),(0,t.jsx)("button",{onClick:()=>N(e),className:"btn btn-info btn-sm text-white",children:"Detail"})]})]},e._id))})]})})]})]})]})}export{y as default};
